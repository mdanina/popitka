# Конфигурация Транскрибатора (Whisper + NeMo)
# Эти настройки можно переопределить через аргументы командной строки

# Основные настройки
default_language: ru  # ru или en
default_model: small  # tiny, base, small, medium, large-v2, large-v3

# Диаризация (NVIDIA NeMo)
enable_diarization: true
# Не требует токенов!

# Производительность для RTX 4050 (6GB VRAM)
beam_size: 5          # Уменьшите до 3 при нехватке памяти
compute_type: float16 # float16 для GPU, int8 для экономии памяти

# Вывод
output_format: txt    # txt, json, srt

# Сервер (для ui.py)
server:
  host: "127.0.0.1"   # localhost для безопасности, 0.0.0.0 для доступа из сети
  port: 7860

# Параметры NeMo диаризации (расширенные настройки)
# Эти параметры определены в nemo_utils.py
nemo_diarization:
  # VAD (Voice Activity Detection)
  vad:
    model_path: "vad_multilingual_marblenet"
    window_length_in_sec: 0.15    # Длина окна VAD
    shift_length_in_sec: 0.01     # Сдвиг окна VAD
    min_duration_on: 0.2          # Минимальная длительность речи (сек)
    min_duration_off: 0.2         # Минимальная длительность паузы (сек)

  # Speaker Embeddings
  speaker_embeddings:
    model_path: "titanet_large"

  # Clustering
  clustering:
    max_num_speakers: 8           # Максимальное количество спикеров
    max_rp_threshold: 0.25        # Порог для RP кластеризации

  # Общие параметры
  collar: 0.25                    # Допуск для перекрывающихся сегментов (сек)

# Рекомендации по выбору модели для 6GB VRAM:
# - tiny:      ~1GB VRAM, быстрая, низкое качество
# - base:      ~1GB VRAM, быстрая, среднее качество
# - small:     ~2GB VRAM, оптимальный выбор
# - medium:    ~5GB VRAM, хорошее качество (на пределе для 6GB)
# - large-v3:  ~10GB VRAM, требует больше памяти

# Примерное время обработки 1 часа аудио на RTX 4050:
# - Транскрибация (small): 3-5 минут
# - Диаризация (NeMo): 5-10 минут
# - Итого: 10-15 минут
